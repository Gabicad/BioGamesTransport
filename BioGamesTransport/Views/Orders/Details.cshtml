@model BioGamesTransport.Data.SQL.Orders
@{
    ViewData["Title"] = "Részletek";
}

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Rendelés részletek
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        <table class="table table-striped table-bordered table-hover">
                            <tr>
                                <th>@Html.DisplayNameFor(model => model.OrderOutRef)</th>
                                <th>@Html.DisplayNameFor(model => model.OrderStatus)</th>
                                <th>@Html.DisplayNameFor(model => model.ShipStatus)</th>

                                <th>@Html.DisplayNameFor(model => model.Payment)</th>
                                <th>@Html.DisplayNameFor(model => model.Shipment)</th>
                                <th>@Html.DisplayNameFor(model => model.Shop)</th>
                                <th>@Html.DisplayNameFor(model => model.Comment)</th>

                            </tr>
                            <tr>
                                <td>@Html.DisplayFor(model => model.OrderOutRef)</td>
                                <td><button id="@Html.DisplayFor(model => model.Id)" data-toggle="modal" data-target="#myModal_statusz" type="button" class=" btn btn-@Html.DisplayFor(model => model.OrderStatus.Color) btn-xs"> @Html.DisplayFor(model => model.OrderStatus.Name) </button></td>
                                <td><button type="button" class="btn btn-@Html.DisplayFor(model => model.ShipStatus.Color) btn-xs"> @Html.DisplayFor(model => model.ShipStatus.Name) </button></td>

                                <td>@Html.DisplayFor(model => model.Payment)</td>
                                <td>@Html.DisplayFor(model => model.Shipment)</td>
                                <td>@Html.DisplayFor(model => model.Shop.Name)</td>
                                <td>@Html.DisplayFor(model => model.Comment)</td>

                            </tr>
                        </table>

                        <table class="table table-striped table-bordered table-hover">
                            <tr>
                                <th>@Html.DisplayNameFor(model => model.OrderDatetime)</th>
                                <th>@Html.DisplayNameFor(model => model.DepositDate)</th>
                                <th>@Html.DisplayNameFor(model => model.ShipUndertakenDate)</th>
                                <th>@Html.DisplayNameFor(model => model.ShipExpectedDate)</th>
                                <th>@Html.DisplayNameFor(model => model.ShipDeliveredDate)</th>
                            </tr>
                            <tr>

                                <td>@Html.DisplayFor(model => model.OrderDatetime) | @Html.DisplayFor(model => model.OrderDatetimeCal) napja megrendelve</td>
                                <td>@Html.DisplayFor(model => model.DepositDate) | @Html.DisplayFor(model => model.DepositDateCal) napja befizetve</td>
                                <td style="@if (Model.ShipUndertakenDateCal > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.ShipUndertakenDate) | @Html.DisplayFor(model => model.ShipUndertakenDateCal) @{if (Model.ShipUndertakenDateCal > 0) { Write("napja lejárt"); } else { Write("nap van hátra"); }}</td>
                                <td style="@if (Model.ShipExpectedDateCal > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.ShipExpectedDate) | @Html.DisplayFor(model => model.ShipExpectedDateCal) @{if (Model.ShipExpectedDateCal > 0) { Write("napja lejárt"); } else { Write("nap van hátra"); }}</td>
                                <td>@Html.DisplayFor(model => model.ShipDeliveredDate)</td>
                            </tr>
                        </table>
                        <table class="table table-striped table-bordered table-hover">
                            <tr>
                                <th>Pénzügy</th>
                                <th>@Html.DisplayNameFor(model => model.Profit)</th>
                                <th>@Html.DisplayNameFor(model => model.TotalPrice)</th>
                                <th>@Html.DisplayNameFor(model => model.Deposit)</th>
                                <th>@Html.DisplayNameFor(model => model.Residual)</th>
                                <th>@Html.DisplayNameFor(model => model.ProdCount)</th>


                            </tr>
                            <tr>

                                <td style="font-weight:bold; @if (Model.Residual > 0) { Write("color:red;"); } else { { Write("color:green;"); }} ">
                                    @if (Model.Residual == 0)
                                    {
                                        Write("Fizetve");
                                    }
                                    else
                                    {
                                        Write("Nincs kiegyenlítve");
                                    }
                                </td>
                                <td>@Html.DisplayFor(model => model.Profit)</td>
                                <td>@Html.DisplayFor(model => model.TotalPrice)</td>
                                <td>@Html.DisplayFor(model => model.Deposit)</td>
                                <td style="@if (Model.Residual > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.Residual)</td>
                                <td>@Html.DisplayFor(model => model.ProdCount)</td>


                            </tr>
                        </table>

                        <div class="clearfix"></div>

                        <hr />
                        <table>
                            <tr>

                                <td style="padding-right:10px"><button data-toggle="modal" data-target="#myModal_finance" class="btn btn-primary">Pénzügyi adatlap</button></td>
                                <td style="padding-right:10px"><button data-toggle="modal" data-target="#myModal_ship" class="btn btn-success">Szállítási adatlap adatlap</button></td>
                                <td style="padding-right:10px"><button data-toggle="modal" data-target="#myModal_statusz_details" class="btn btn-warning">Rendelés állapot</button></td>
                                <td style="padding-right:10px"><button data-toggle="modal" data-target="#myModal_OrderEdit" class="btn btn-outline btn-info">Szerkesztés</button></td>
                                <td style="padding-right:10px"><a class="btn btn-outline btn-primary" asp-action="Index">Vissza a listához</a></td>
                                <td style="padding-right:10px"><a class="btn  btn-danger" asp-action="Delete" asp-route-id="@Model.Id">Törlés</a></td>
                            </tr>
                        </table>
                        <hr />

                        @await Html.PartialAsync("~/Views/Orders/Partial/OrderDetails.cshtml")

                        <hr style="margin:0px!important;" />

                        @await Html.PartialAsync("~/Views/Orders/Partial/addresses.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@await Html.PartialAsync("~/Views/Orders/Partial/Modals.cshtml")
