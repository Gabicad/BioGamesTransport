@model BioGamesTransport.Data.SQL.Orders
<!-- .Orderstatus-modal -->
<div class="modal fade" id="myModal_statusz_details" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">Rendelés státusz</h4>
            </div><form asp-controller="Orders" asp-action="ChangeStatus">
                <div class="modal-body">

                    <input type="hidden" asp-for="Id" />
                    <div class="form-group">
                        <label asp-for="OrderStatuses.Name" class="control-label"></label>
                        <select asp-for="OrderStatusId" class="form-control" asp-items="ViewBag.OrderStatusId"></select>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Mégse</button>
                    <input type="submit" value="Mentés" class="btn btn-success" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- /.Orderstatus-modal -->
<!-- .Finance-modal -->
<div class="modal fade" id="myModal_finance" tabindex="-1" role="dialog" aria-labelledby="FinanceModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="FinanceModal">Pénzügyi adatlap</h4>
            </div>
            <table class="table table-striped table-bordered table-hover">
                <tr>
                    <th>Pénzügy</th>
                    <th>@Html.DisplayNameFor(model => model.Profit)</th>
                    <th>@Html.DisplayNameFor(model => model.TotalPrice)</th>
                    <th>@Html.DisplayNameFor(model => model.Deposit)</th>
                    <th>@Html.DisplayNameFor(model => model.Residual)</th>
                    <th>@Html.DisplayNameFor(model => model.ProdCount)</th>


                </tr>
                <tr>

                    <td style="font-weight:bold; @if (Model.Residual > 0) { Write("color:red;"); } else { { Write("color:green;"); }} ">
                        @if (Model.Residual == 0)
                        {
                            Write("Fizetve");
                        }
                        else
                        {
                            Write("Nincs kiegyenlítve");
                        }
                    </td>
                    <td>@Html.DisplayFor(model => model.Profit)</td>
                    <td>@Html.DisplayFor(model => model.TotalPrice)</td>
                    <td>@Html.DisplayFor(model => model.Deposit)</td>
                    <td style="@if (Model.Residual > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.Residual)</td>
                    <td>@Html.DisplayFor(model => model.ProdCount)</td>


                </tr>
            </table>
            <form asp-controller="Orders" asp-action="ChangeFinance">
                <div class="modal-body">

                    <input type="hidden" asp-for="Id" />
                    <div class="form-group">
                        <label asp-for="Deposit" class="control-label"></label>
                        <input asp-for="Deposit" class="form-control" />
                        <span asp-validation-for="Deposit" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="DepositDate" class="control-label"></label>
                        <input asp-for="DepositDate" class="form-control" />
                        <span asp-validation-for="DepositDate" class="text-danger"></span>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Mégse</button>
                    <input type="submit" value="Mentés" class="btn btn-success" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- /.Finance-modal -->
<!-- .Ship-modal -->
<div class="modal fade" id="myModal_ship" tabindex="-1" role="dialog" aria-labelledby="ShipModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="ShipModal">Szállítási adatlap</h4>
            </div>

            <table class="table table-striped table-bordered table-hover">
                <tr>
                    <th>@Html.DisplayNameFor(model => model.OrderDatetime)</th>
                    <th>@Html.DisplayNameFor(model => model.DepositDate)</th>
                    <th>@Html.DisplayNameFor(model => model.ShipUndertakenDate)</th>
                    <th>@Html.DisplayNameFor(model => model.ShipExpectedDate)</th>
                </tr>
                <tr>

                    <td>@Html.DisplayFor(model => model.OrderDatetime) <br /> @Html.DisplayFor(model => model.OrderDatetimeCal) napja megrendelve</td>
                    <td>@Html.DisplayFor(model => model.DepositDate) <br /> @Html.DisplayFor(model => model.DepositDateCal) napja befizetve</td>
                    <td style="@if (Model.ShipUndertakenDateCal > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.ShipUndertakenDate) <br /> @Html.DisplayFor(model => model.ShipUndertakenDateCal) @{if (Model.ShipUndertakenDateCal > 0) { Write("napja lejárt"); } else { Write("nap van hátra"); }}</td>
                    <td style="@if (Model.ShipExpectedDateCal > 0) { Write("color:red;"); }">@Html.DisplayFor(model => model.ShipExpectedDate) <br /> @Html.DisplayFor(model => model.ShipExpectedDateCal) @{if (Model.ShipExpectedDateCal > 0) { Write("napja lejárt"); } else { Write("nap van hátra"); }}</td>
                </tr>
            </table>
            <form asp-controller="Orders" asp-action="ChangeShip">
                <div class="modal-body">

                    <input type="hidden" asp-for="Id" />
                    <div class="form-group">
                        <label asp-for="ShipStatusId" class="control-label"></label><span class="requied"> *</span>
                        <select asp-for="ShipStatusId" class="form-control" asp-items="ViewBag.ShipStatusId"></select>
                    </div>
                    <div class="form-group">
                        <label asp-for="OrderDatetime" class="control-label"></label>
                        <input asp-for="OrderDatetime" class="form-control" />
                        <span asp-validation-for="OrderDatetime" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ShipUndertakenDate" class="control-label"></label>
                        <input asp-for="ShipUndertakenDate" class="form-control" />
                        <span asp-validation-for="ShipUndertakenDate" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="ShipExpectedDate" class="control-label"></label>
                        <input asp-for="ShipExpectedDate" class="form-control" />
                        <span asp-validation-for="ShipExpectedDate" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="CheckAllProd">Érvényes az összes termékre?</label>
                        <input class="form-control" type="checkbox" id="CheckAllProdId" name="allprod" value="true">
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Mégse</button>
                    <input type="submit" value="Mentés" class="btn btn-success" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- /.Ship-modal -->
<!-- .OrderEdit-modal -->
<div class="modal fade" id="myModal_OrderEdit" tabindex="-1" role="dialog" aria-labelledby="OrderEditModal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="OrderEditModal">Megrendelés adatlap</h4>
            </div>
            <table class="table table-striped table-bordered table-hover">
                <tr>
                    <th>@Html.DisplayNameFor(model => model.OrderOutRef)</th>
                    <th>@Html.DisplayNameFor(model => model.OrderStatus)</th>
                    <th colspan="2">@Html.DisplayNameFor(model => model.ShipStatus)</th>
                   </tr>
                <tr>
                    <td>@Html.DisplayFor(model => model.OrderOutRef)</td>
                    <td><button id="@Html.DisplayFor(model => model.Id)" data-toggle="modal" data-target="#myModal_statusz" type="button" class=" btn btn-@Html.DisplayFor(model => model.OrderStatus.Color) btn-xs"> @Html.DisplayFor(model => model.OrderStatus.Name) </button></td>
                    <td  colspan="2"><button type="button" class="btn btn-@Html.DisplayFor(model => model.ShipStatus.Color) btn-xs"> @Html.DisplayFor(model => model.ShipStatus.Name) </button></td>

                </tr>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.Payment)</th>
                    <th>@Html.DisplayNameFor(model => model.Shipment)</th>
                    <th>@Html.DisplayNameFor(model => model.Shop)</th>
                    <th>@Html.DisplayNameFor(model => model.Comment)</th>

                </tr>
                <tr>
               
                    <td>@Html.DisplayFor(model => model.Payment)</td>
                    <td>@Html.DisplayFor(model => model.Shipment)</td>
                    <td>@Html.DisplayFor(model => model.Shop.Name)</td>
                    <td>@Html.DisplayFor(model => model.Comment)</td>

                </tr>
            </table>
            <form asp-controller="Orders" asp-action="EditMin">
                <div class="modal-body">

                    <input type="hidden" asp-for="Id" />
                    <div class="form-group">
                        <label asp-for="ShopId" class="control-label"></label>
                        <select asp-for="ShopId" class="form-control" asp-items="ViewBag.ShopId"></select>
                        <span asp-validation-for="ShopId" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Shipment" class="control-label"></label>
                        <input asp-for="Shipment" class="form-control" />
                        <span asp-validation-for="Shipment" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Payment" class="control-label"></label>
                        <input asp-for="Payment" class="form-control" />
                        <span asp-validation-for="Payment" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="OrderDatetime" class="control-label"></label>
                        <input asp-for="OrderDatetime" class="form-control" />
                        <span asp-validation-for="OrderDatetime" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Comment" class="control-label"></label>
                        <input asp-for="Comment" class="form-control" />
                        <span asp-validation-for="Comment" class="text-danger"></span>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Mégse</button>
                    <input type="submit" value="Mentés" class="btn btn-success" />
                </div>
            </form>
        </div>
    </div>
</div>
<!-- /.OrderEdit-modal -->